!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var s in i)("object"==typeof exports?exports:t)[s]=i[s]}}(this,function(){return function(t){function e(s){if(i[s])return i[s].exports;var l=i[s]={exports:{},id:s,loaded:!1};return t[s].call(l.exports,l,l.exports,e),l.loaded=!0,l.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l="dual-listbox",a="dual-lsitbox__container",n="dual-listbox__available",o="dual-listbox__selected",d="dual-listbox__title",r="dual-listbox__item",c="dual-listbox__buttons",u="dual-listbox__button",h="dual-listbox__search",v="dual-listbox__item--selected",b=function(){function t(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.select=document.querySelector(e),this.selected=[],this.available=[],this._initOptions(s),this._initReusableElements(),this._splitSelectOptions(this.select),this._buildDualListbox(this.select.parentNode),this._addActions(),this.redraw()}return s(t,[{key:"addSelected",value:function(t){var e=this.available.indexOf(t);e>-1&&this.available.splice(e,1),this.selected.push(t),this._selectOption(t.dataset.id),this.redraw()}},{key:"redraw",value:function(){this.updateAvailableListbox(),this.updateSelectedListbox()}},{key:"removeSelected",value:function(t){var e=this.selected.indexOf(t);e>-1&&this.selected.splice(e,1),this.available.push(t),this._deselectOption(t.dataset.id),this.redraw()}},{key:"searchLists",value:function(t){this.dualListbox.querySelectorAll("."+r).forEach(function(e){t?e.innerText.includes(t)?e.style.display="block":e.style.display="none":e.style.display="block"})}},{key:"updateAvailableListbox",value:function(){this.availebleList.innerHTML="",this.availebleList.appendChild(this.availableListTitle);var t=!0,e=!1,i=void 0;try{for(var s,l=this.available[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var a=s.value;this.availebleList.appendChild(this._addClickActions(a))}}catch(t){e=!0,i=t}finally{try{!t&&l.return&&l.return()}finally{if(e)throw i}}}},{key:"updateSelectedListbox",value:function(){this.selectedList.innerHTML="",this.selectedList.appendChild(this.selectedListTitle);var t=!0,e=!1,i=void 0;try{for(var s,l=this.selected[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var a=s.value;this.selectedList.appendChild(this._addClickActions(a))}}catch(t){e=!0,i=t}finally{try{!t&&l.return&&l.return()}finally{if(e)throw i}}}},{key:"_addActions",value:function(){this._addButtonActions(),this._addSearchActions()}},{key:"_addButtonActions",value:function(){var t=this;this.add_all_button.onclick=function(e){for(e.preventDefault();t.available.length>0;)t.addSelected(t.available[0])},this.add_button.onclick=function(e){e.preventDefault();var i=t.dualListbox.querySelector("."+v);i&&t.addSelected(i)},this.remove_button.onclick=function(e){e.preventDefault();var i=t.dualListbox.querySelector("."+v);i&&t.removeSelected(i)},this.remove_all_button.onclick=function(e){for(e.preventDefault();t.selected.length>0;)t.removeSelected(t.selected[0])}}},{key:"_addClickActions",value:function(t){var e=this;return t.ondblclick=function(){e.selected.indexOf(this)>-1?e.removeSelected(t):e.addSelected(t)},t.onclick=function(){e.dualListbox.querySelectorAll("."+r).forEach(function(t){t.classList.remove(v)}),this.classList.contains(v)?this.classList.remove(v):this.classList.add(v)},t}},{key:"_addSearchActions",value:function(){var t=this;this.search.onchange=function(e){return t.searchLists(e.target.value)},this.search.onkeyup=function(e){return t.searchLists(e.target.value)}}},{key:"_buildDualListbox",value:function(t){this.select.style.display="none",this.dualListBoxContainer.appendChild(this.availebleList),this.dualListBoxContainer.appendChild(this.buttons),this.dualListBoxContainer.appendChild(this.selectedList),this.dualListbox.appendChild(this.search),this.dualListbox.appendChild(this.dualListBoxContainer),t.insertBefore(this.dualListbox,this.select)}},{key:"_createButtons",value:function(){this.buttons=document.createElement("div"),this.buttons.classList.add(c),this.add_all_button=document.createElement("button"),this.add_all_button.classList.add(u),this.add_all_button.innerHTML=this.addAllButtonText,this.add_button=document.createElement("button"),this.add_button.classList.add(u),this.add_button.innerHTML=this.addButtonText,this.remove_button=document.createElement("button"),this.remove_button.classList.add(u),this.remove_button.innerHTML=this.removeButtonText,this.remove_all_button=document.createElement("button"),this.remove_all_button.classList.add(u),this.remove_all_button.innerHTML=this.removeAllButtonText,this.buttons.appendChild(this.add_all_button),this.buttons.appendChild(this.add_button),this.buttons.appendChild(this.remove_button),this.buttons.appendChild(this.remove_all_button)}},{key:"_createListItem",value:function(t){var e=document.createElement("li");return e.classList.add(r),e.innerHTML=t.innerHTML,e.dataset.id=t.value,e}},{key:"_createSearch",value:function(){this.search=document.createElement("input"),this.search.classList.add(h)}},{key:"_deselectOption",value:function(t){var e=this.select.options,i=!0,s=!1,l=void 0;try{for(var a,n=e[Symbol.iterator]();!(i=(a=n.next()).done);i=!0){var o=a.value;o.value===t&&(o.selected=!1)}}catch(t){s=!0,l=t}finally{try{!i&&n.return&&n.return()}finally{if(s)throw l}}this.removeEvent&&this.removeEvent(t)}},{key:"_initOptions",value:function(t){this.addEvent=t.addEvent,this.removeEvent=t.removeEvent,this.availableTitle=t.availableTitle||"Available options",this.selectedTitle=t.selectedTitle||"Selected options",this.addButtonText=t.addButtonText||"add",this.removeButtonText=t.removeButtonText||"remove",this.addAllButtonText=t.addAllButtonText||"add all",this.removeAllButtonText=t.removeAllButtonText||"remove all"}},{key:"_initReusableElements",value:function(){this.dualListbox=document.createElement("div"),this.dualListbox.classList.add(l),this.select.id&&this.dualListbox.classList.add(this.select.id),this.dualListBoxContainer=document.createElement("div"),this.dualListBoxContainer.classList.add(a),this.availebleList=document.createElement("ul"),this.availebleList.classList.add(n),this.selectedList=document.createElement("ul"),this.selectedList.classList.add(o),this.availableListTitle=document.createElement("li"),this.availableListTitle.classList.add(d),this.availableListTitle.innerText=this.availableTitle,this.selectedListTitle=document.createElement("li"),this.selectedListTitle.classList.add(d),this.selectedListTitle.innerText=this.selectedTitle,this._createButtons(),this._createSearch()}},{key:"_selectOption",value:function(t){var e=this.select.options,i=!0,s=!1,l=void 0;try{for(var a,n=e[Symbol.iterator]();!(i=(a=n.next()).done);i=!0){var o=a.value;o.value===t&&(o.selected=!0)}}catch(t){s=!0,l=t}finally{try{!i&&n.return&&n.return()}finally{if(s)throw l}}this.addEvent&&this.addEvent(t)}},{key:"_splitSelectOptions",value:function(t){var e=this,i=t.options;[].forEach.call(i,function(t){var i=e._createListItem(t);t.attributes.selected?e.selected.push(i):e.available.push(i)})}}]),t}();e.default=b,e.DualListbox=b}])});